!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){e.exports=React},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(i).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];null!=a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),l=null,u=0,c=[],f=n(35);function d(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(b(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(b(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=c[c.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertAt.before,n);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return n.nc}();o&&(e.attrs.nonce=o)}return y(t,e.attrs),h(e,t),t}function y(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=u++;n=l||(l=v(t)),o=O.bind(null,n,a,!1),r=O.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),h(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=f(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}e&&d(p(e,t),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function O(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";t.__esModule=!0,t.SHOW_HIDE_SHARE_MODAL="show-hide-share-modal",t.PUT_SHARE="put-share",t.DELETE_SHARE="delete-share",t.showShareModal=function(){return{type:t.SHOW_HIDE_SHARE_MODAL,show:!0}},t.hideShareModal=function(){return{type:t.SHOW_HIDE_SHARE_MODAL,show:!1}},t.putShare=function(e){return{type:t.PUT_SHARE,share:e}},t.deleteShare=function(e){return{type:t.DELETE_SHARE,shareId:e}}},function(e,t,n){e.exports=n(24)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var o,r=n(30);var i=((o=r)&&o.__esModule?o:{default:o}).default,a=i.canUseDOM?window.HTMLElement:{};t.canUseDOM=i.canUseDOM;t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.LOAD_COMMENTS="load-comments",t.SHOW_HIDE_COMMENTS="show-hide-comments",t.SHOW_HIDE_RESOLVED_COMMENTS="show-hide-resolved-comments",t.loadComments=function(e){return{type:t.LOAD_COMMENTS,comments:e}},t.showComments=function(){return{type:t.SHOW_HIDE_COMMENTS,show:!0}},t.hideComments=function(){return{type:t.SHOW_HIDE_COMMENTS,show:!1}},t.showHideResolvedComments=function(e){return{type:t.SHOW_HIDE_RESOLVED_COMMENTS,show:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.PUT_REVIEWER="put-reviewer",t.DELETE_REVIEWER="delete-reviewer",t.putReviewer=function(e){return{type:t.PUT_REVIEWER,reviewer:e}},t.deleteReviewer=function(e){return{type:t.DELETE_REVIEWER,reviewerId:e}}},function(e,t,n){"use strict";(function(e,o){var r,i=n(16);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:o;var a=Object(i.a)(r);t.a=a}).call(this,n(10),n(19)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var o;!function(r){"use strict";var i,a,s,l=(i=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g,function(e,t,n,o){if(1!==arguments.length||"string"!==d(e)||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var r=(t=String(l.masks[t]||t||l.masks.default)).slice(0,4);"UTC:"!==r&&"GMT:"!==r||(t=t.slice(4),n=!0,"GMT:"===r&&(o=!0));var p=n?"getUTC":"get",h=e[p+"Date"](),m=e[p+"Day"](),v=e[p+"Month"](),y=e[p+"FullYear"](),b=e[p+"Hours"](),g=e[p+"Minutes"](),w=e[p+"Seconds"](),O=e[p+"Milliseconds"](),_=n?0:e.getTimezoneOffset(),E=c(e),S=f(e),C={d:h,dd:u(h),ddd:l.i18n.dayNames[m],dddd:l.i18n.dayNames[m+7],m:v+1,mm:u(v+1),mmm:l.i18n.monthNames[v],mmmm:l.i18n.monthNames[v+12],yy:String(y).slice(2),yyyy:y,h:b%12||12,hh:u(b%12||12),H:b,HH:u(b),M:g,MM:u(g),s:w,ss:u(w),l:u(O,3),L:u(Math.round(O/10)),t:b<12?l.i18n.timeNames[0]:l.i18n.timeNames[1],tt:b<12?l.i18n.timeNames[2]:l.i18n.timeNames[3],T:b<12?l.i18n.timeNames[4]:l.i18n.timeNames[5],TT:b<12?l.i18n.timeNames[6]:l.i18n.timeNames[7],Z:o?"GMT":n?"UTC":(String(e).match(a)||[""]).pop().replace(s,""),o:(_>0?"-":"+")+u(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:E,N:S};return t.replace(i,function(e){return e in C?C[e]:e.slice(1,e.length-1)})});function u(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function c(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var o=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-o);var r=(t-n)/6048e5;return 1+Math.floor(r)}function f(e){var t=e.getDay();return 0===t&&(t=7),t}function d(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}l.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},l.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(o=function(){return l}.call(t,n,t,e))||(e.exports=o)}()},function(e,t,n){"use strict";t.__esModule=!0;var o=n(4),r=function(){function e(e,t,n,o){this.id=e,this.email=t,this.accessedAt=n,this.expiresAt=o}return e.fromApi=function(t){return new e(t.id,t.user.email,t.last_accessed_at?Date.parse(t.last_accessed_at):null,t.expires_at?Date.parse(t.expires_at):null)},e}();t.Share=r,t.reducer=function(e,t){switch(void 0===e&&(e={shares:[],isShareModalOpen:!1}),t.type){case o.SHOW_HIDE_SHARE_MODAL:e=Object.assign({},e,{isShareModalOpen:t.show});break;case o.PUT_SHARE:for(var n=null,r=0,i=0,a=e.shares;i<a.length;i++){if(a[i].id==t.share.id){n=r;break}r++}var s=e.shares.slice();null==n?s.push(t.share):s[n]=t.share,e=Object.assign({},e,{shares:s});break;case o.DELETE_SHARE:n=null,r=0;for(var l=0,u=e.shares;l<u.length;l++){if(u[l].id==t.shareId){n=r;break}r++}null!=n&&((s=e.shares.slice()).splice(n,1),e=Object.assign({},e,{shares:s}))}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var o=/input|select|textarea|button|object/;function r(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function i(e,t){var n=e.nodeName.toLowerCase();return(o.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(r(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&i(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"==typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=u,t.hide=function(e){u(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){u(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var o,r=n(29),i=(o=r)&&o.__esModule?o:{default:o},a=n(6);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function u(e){return!(!e&&!s)||((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(8),r=function(){function e(e,t){this.id=e,this.name=t}return e.fromApi=function(t){return new e(t.id,t.name)},e.prototype.display=function(){return this.name},e}();t.User=r;var i=function(){function e(e){this.email=e}return e.fromApi=function(t){return new e(t.email)},e.prototype.display=function(){return this.email},e}();t.ExternalReviewer=i;var a=function(){function e(e,t){this.id=e,this.inner=t}return e.fromApi=function(t){return new e(t.id,t.internal?r.fromApi(t.internal):i.fromApi(t.external))},e.prototype.display=function(){return this.inner.display()},e}();t.Reviewer=a,t.reducer=function(e,t){switch(void 0===e&&(e={reviewers:[]}),t.type){case o.PUT_REVIEWER:for(var n=null,r=0,i=0,a=e.reviewers;i<a.length;i++){if(a[i].id==t.reviewer.id){n=r;break}r++}var s=e.reviewers.slice();null==n?s.push(t.reviewer):s[n]=t.reviewer,e=Object.assign({},e,{reviewers:s});break;case o.DELETE_REVIEWER:for(var l=null,u=(r=0,0),c=e.reviewers;u<c.length;u++){if(c[u].id==t.reviewerId){l=r;break}r++}null!=l&&((s=e.reviewers.slice()).splice(l,1),e=Object.assign({},e,{reviewers:s}))}return e}},function(e,t,n){"use strict";function o(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.__esModule=!0;var r=n(0),i=n(3),a=n(18),s=n(20),l=n(38),u=n(41),c=n(48),f=n(49),d=n(12),p=n(50),h=n(15),m=n(51),v=n(4),y=n(7),b=n(8);function g(e){var t="",n=e.closest("form").querySelector('input[name="csrfmiddlewaretoken"]');if(n instanceof HTMLInputElement){t=n.value;var s=a.createStore(h.reducer),l=new f.default(t,e.dataset.usersUrl,e.dataset.reviewerUrl,e.dataset.csrfHeaderName);JSON.parse(e.dataset.initialReviewers).forEach(function(e){return s.dispatch(b.putReviewer(h.Reviewer.fromApi(e)))});var c=document.createElement("div");e.append(c);var d=function(){i.render(r.createElement(u.default,o({api:l,store:s,inputName:e.dataset.inputName},s.getState())),c)};d(),s.subscribe(d)}else console.error("Cannot initialise reviewer chooser widget: unable to find CSRF Token input")}document.addEventListener("DOMContentLoaded",function(){window.wagtailReviewInitialised||(window.wagtailReviewInitialised=!0,window.wagtailPageId&&window.sharesUrl&&window.commentsUrl&&function(e,t,n){var u="",f=document.body.querySelector('input[name="csrfmiddlewaretoken"]');if(f instanceof HTMLInputElement){u=f.value;var h=a.createStore(d.reducer),b=a.createStore(p.reducer),g=new c.default(e,u,t,n);m.initTabs([{text:"Share",onClick:function(){h.dispatch(v.showShareModal())}},{text:"Comments",id:"comments-button",onClick:function(){b.getState().isOpen?b.dispatch(y.hideComments()):b.dispatch(y.showComments())}}]),document.addEventListener("keydown",function(e){"Escape"===e.key&&(h.dispatch(v.hideShareModal()),b.dispatch(y.hideComments()))}),g.getShares().then(function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t];h.dispatch(v.putShare(d.Share.fromApi(o)))}}),g.getComments().then(function(e){b.dispatch(y.loadComments(e.map(p.Comment.fromApi)))});var w=document.createElement("div");document.body.append(w);var O=function(){i.render(r.createElement(s.default,o({api:g,store:h},h.getState())),w)};O(),h.subscribe(O);var _=document.getElementById("comments-button");if(_ instanceof HTMLElement){var E=document.createElement("div");_.append(E),E.style.position="relative";var S=_.querySelector("a"),C=function(){var e=b.getState();if(i.render(r.createElement(l.default,o({api:g,store:b},e)),E),S instanceof HTMLElement){var t=e.comments.filter(function(e){return!e.isResolved}).length;t>0?(S.classList.add("errors"),S.dataset.count=t.toString()):S.classList.remove("errors")}};C(),b.subscribe(C)}}else console.error("Cannot initialise reviewer chooser widget: unable to find CSRF Token input")}(window.wagtailPageId,window.sharesUrl,window.commentsUrl),document.querySelectorAll("[data-component='reviewer-chooser']").forEach(g))})},function(e,t,n){"use strict";n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",function(){return i}),n.d(t,"applyMiddleware",function(){return v}),n.d(t,"bindActionCreators",function(){return f}),n.d(t,"combineReducers",function(){return u}),n.d(t,"compose",function(){return m}),n.d(t,"createStore",function(){return s});var o=n(9),r=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+r(),REPLACE:"@@redux/REPLACE"+r(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,c=[],f=c,d=!1;function p(){f===c&&(f=c.slice())}function h(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),f.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var n=f.indexOf(e);f.splice(n,1)}}}function v(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,u=l(u,e)}finally{d=!1}for(var t=c=f,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:i.INIT}),(r={dispatch:v,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,v({type:i.REPLACE})}})[o.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[o.a]=function(){return this},e},r}function l(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var r=t[o];0,"function"==typeof e[r]&&(n[r]=e[r])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var o=!1,r={},i=0;i<s.length;i++){var u=s[i],c=n[u],f=e[u],d=c(f,t);if(void 0===d){var p=l(u,t);throw new Error(p)}r[u]=d,o=o||d!==f}return o?r:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var o in e){var r=e[o];"function"==typeof r&&(n[o]=c(r,t))}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},r={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},i=t.map(function(e){return e(r)});return h({},n,{dispatch:o=m.apply(void 0,i)(n.dispatch)})}}}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};t.__esModule=!0;var s=n(0),l=n(11),u=n(12),c=n(4),f=n(21);n(36);var d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={errors:null},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.api,o=t.store,r=t.isShareModalOpen,d=t.shares.map(function(e){return s.createElement("tr",null,s.createElement("td",null,e.email),s.createElement("td",null,e.accessedAt?l(e.accessedAt):"Never"),s.createElement("td",null,e.expiresAt?l(e.expiresAt):"Never"))}),p=this.state.errors,h=s.createElement(s.Fragment,null);return p&&p.email&&(h=s.createElement("div",{className:"error"},p.email)),s.createElement(f.default,{isOpen:r,contentLabel:"Share",onClickCloseButton:function(){o.dispatch(c.hideShareModal())}},s.createElement("div",{className:"nice-padding"},s.createElement("p",null),s.createElement("input",{type:"text",placeholder:"Enter email address",onKeyDown:function(t){return i(e,void 0,void 0,function(){var e,r,i;return a(this,function(a){switch(a.label){case 0:return"Enter"!==t.key?[3,2]:(e=t.target)instanceof HTMLInputElement?(r=e.value,this.setState({errors:null}),[4,n.newShare(r)]):[3,2];case 1:"ok"===(i=a.sent()).status?(e.value="",o.dispatch(c.putShare(u.Share.fromApi(i.share)))):this.setState({errors:i}),a.label=2;case 2:return[2]}})})}}),h,s.createElement("table",null,s.createElement("thead",null,s.createElement("th",null,"Email"),s.createElement("th",null,"Last opened"),s.createElement("th",null,"Expires at")),s.createElement("tbody",null,d))))},t}(s.Component);t.default=d},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.__esModule=!0;var a=n(0),s=n(22);n(33);var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){s.setAppElement("div.wrapper")},t.prototype.render=function(){var e=this,t=Object.assign({className:"react-modal__dialog",overlayClassName:"react-modal"},this.props),n=t.onAfterOpen;t.onAfterOpen=function(){var e=document.body.appendChild(document.createElement("div"));e.classList.add("js-wagtail-react-modal-backdrop"),e.classList.add("modal-backdrop"),e.classList.add("in"),n&&n()};var o=t.onAfterClose;t.onAfterClose=function(){var e=document.querySelector("body > div.js-wagtail-react-modal-backdrop");e instanceof HTMLElement&&e.remove(),o&&o()};var r=this.props,l=r.contentLabel,u=r.children;return a.createElement(s,i({},t),a.createElement("div",{className:"react-modal__content"},a.createElement("button",{type:"button",className:"button close icon text-replace icon-cross","data-dismiss":"modal","aria-hidden":"true",onClick:function(t){t.preventDefault();var n=e.props.onClickCloseButton;n&&n()}},"×"),a.createElement("div",{className:"react-modal__body"},a.createElement("header",{className:"merged tab-merged"},a.createElement("div",{className:"row nice-padding"},a.createElement("div",{className:"left"},a.createElement("div",{className:"col header-title"},a.createElement("h1",{className:"icon icon-share"},l))))),a.createElement("div",{className:"tab-content"},u))))},t}(a.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(23),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=h(i),s=h(n(3)),l=h(n(5)),u=h(n(26)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(14)),f=n(6),d=h(f),p=n(32);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",b=void 0!==s.default.createPortal,g=function(){return b?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function w(e){return e()}var O=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.removePortal=function(){!b&&s.default.unmountComponentAtNode(r.node),w(r.props.parentSelector).removeChild(r.node)},r.portalRef=function(e){r.portal=e},r.renderPortal=function(e){var n=g()(r,a.default.createElement(u.default,o({defaultStyles:t.defaultStyles},e)),r.node);r.portalRef(n)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(b||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var o=this.props,r=o.isOpen,i=o.portalClassName;e.portalClassName!==i&&(this.node.className=i);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||r)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&b?(!this.node&&b&&(this.node=document.createElement("div")),g()(a.default.createElement(u.default,o({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}();O.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(d.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},O.defaultProps={isOpen:!1,portalClassName:v,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},O.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(O),t.default=O},function(e,t,n){"use strict";var o=n(25);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),s=m(a),l=m(n(5)),u=h(n(27)),c=m(n(28)),f=h(n(14)),d=h(n(31)),p=m(n(6));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=9,b=27,g=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,o=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&d.remove(document.body,i),r&&d.remove(document.getElementsByTagName("html")[0],r),o&&g>0&&0===(g-=1)&&f.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose()},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===y&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===b&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var o="object"===(void 0===t?"undefined":r(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},i=o.base;return n.state.afterOpen&&(i=i+" "+o.afterOpen),n.state.beforeClose&&(i=i+" "+o.beforeClose),"string"==typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,o){return n[e+"-"+o]=t[o],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,o=e.htmlOpenClassName,r=e.bodyOpenClassName;r&&d.add(document.body,r),o&&d.add(document.getElementsByTagName("html")[0],o),n&&(g+=1,f.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,r=e.overlayClassName,i=e.defaultStyles,a=n?{}:i.content,l=r?{}:i.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",r),style:o({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",o({id:t,ref:this.setContentRef,style:o({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}();w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(p.default),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,testId:l.default.string},t.default=w,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=u,t.handleFocus=c,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==a.length&&(e=a.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",c))};var o,r=n(13),i=(o=r)&&o.__esModule?o:{default:o};var a=[],s=null,l=!1;function u(){l=!0}function c(){if(l){if(l=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(e);if(!n.length)return void t.preventDefault();var o,r=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!r)return;o=s}s!==document.activeElement||r||(o=a);a===document.activeElement&&r&&(o=s);if(o)return t.preventDefault(),void o.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var u=n.indexOf(document.activeElement);u>-1&&(u+=r?-1:1);if(void 0===n[u])return t.preventDefault(),void(o=r?s:a).focus();t.preventDefault(),n[u].focus()};var o,r=n(13),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){var o;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var o={},r={};t.add=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?o:r,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),n.add(e)});var n,i},t.remove=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?o:r,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&n.remove(e)});var n,i}},function(e,t,n){"use strict";function o(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function i(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=o,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,o)}}return e}n.r(t),n.d(t,"polyfill",function(){return a}),o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,n){var o=n(34);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".react-modal {\n  box-sizing: border-box;\n  overflow: auto;\n  overflow-y: scroll;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 500; }\n  .react-modal__dialog {\n    box-sizing: border-box;\n    margin-left: auto;\n    margin-right: auto;\n    padding: 0;\n    z-index: 510;\n    height: 90%;\n    width: 85%;\n    outline: none; }\n    .react-modal__dialog:before {\n      content: '';\n      display: inline-block;\n      height: 100%;\n      vertical-align: middle;\n      margin-right: -0.25em; }\n  .react-modal__content {\n    box-sizing: border-box;\n    border-radius: 3px;\n    width: 98.7%;\n    position: relative;\n    background-color: #fff;\n    margin-top: 2em;\n    padding-bottom: 3em;\n    display: inline-block;\n    vertical-align: middle;\n    overflow: hidden; }\n  .react-modal .close {\n    padding: 0;\n    position: absolute;\n    width: 50px;\n    height: 50px;\n    top: 10px;\n    right: 10px;\n    z-index: 1; }\n  .react-modal__body {\n    position: relative;\n    padding-bottom: 2em; }\n    .react-modal__body header {\n      padding-left: 2em;\n      padding-right: 100px; }\n    .react-modal__body .header-title {\n      padding-left: 0 !important;\n      margin-left: -36px; }\n\n/*\n@include media-breakpoint-up(sm) {\n    .share-modal__dialog {\n        padding: 0 0 2em $menu-width;\n    }\n}\n\n@include media-breakpoint-up(xl) {\n    .share-modal__dialog {\n        max-width: 100em;\n        padding: 0 0 2em;\n    }\n}\n*/\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){var o=n(37);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".react-modal__body table {\n  width: 100%; }\n",""])},function(e,t,n){"use strict";t.__esModule=!0;var o=n(0),r=n(11);n(39);var i=n(7);function a(e){return o.createElement("li",{key:e.id,className:"comment"},o.createElement("p",{className:"comment__text"},e.text),o.createElement("p",{className:"comment__info"},e.author.name," - ",r(e.date,"h:MM mmmm d")),o.createElement("div",{className:"comment__resolved"},o.createElement("label",null,"Resolved",o.createElement("input",{name:"resolved",type:"checkbox",checked:e.isResolved,disabled:!0}))),o.createElement("a",{href:e.frontendUrl,onClick:function(e){e.preventDefault(),e.target instanceof HTMLAnchorElement&&window.open(e.target.href,"_blank")},className:"comment__view-on-frontend",target:"_blank",rel:"noopener noreferrer"},"View on frontend"))}t.default=function(e){var t=e.isOpen,n=e.showResolvedComments,r=e.store,s=e.comments;if(!t)return o.createElement("div",null);var l=o.createElement(o.Fragment,null),u=s.filter(function(e){return e.isResolved}).length;u>0&&(l=o.createElement("div",{className:"comments__show-hide-resolved"},"Show ",u," resolved comments",o.createElement("input",{type:"checkbox",onChange:function(e){r.dispatch(i.showHideResolvedComments(e.target.checked))},checked:n})),n||(s=s.filter(function(e){return!e.isResolved})));var c=s.map(a);return o.createElement("div",{className:"comments"},l,o.createElement("ul",null,c))}},function(e,t,n){var o=n(40);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".comments {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 99;\n  background-color: #333;\n  color: white;\n  box-sizing: border-box;\n  width: 300px; }\n  .comments__show-hide-resolved {\n    box-sizing: border-box;\n    width: 100%;\n    height: 40px;\n    line-height: 40px;\n    font-size: 1.2em;\n    background: #eee;\n    padding-left: 10px; }\n    .comments__show-hide-resolved input[type='checkbox'] {\n      margin-left: 10px; }\n  .comments ul {\n    overflow-y: auto;\n    max-height: 600px; }\n\n.tab-nav li.comment {\n  margin-left: 0;\n  padding-left: 0;\n  width: 100%; }\n\n.comment {\n  display: block;\n  transition: top 0.5s ease 0s, right 0.5s ease 0s, height 0.5s ease 0s;\n  font-size: 0.9em;\n  box-sizing: border-box;\n  padding-left: 13px !important;\n  padding-right: 13px !important;\n  padding-bottom: 10px !important; }\n  .comment:not(:last-child) {\n    border-bottom: 1px solid #5b5b5b; }\n  .comment__text {\n    font-weight: bold;\n    margin-top: 26px;\n    margin-bottom: 0px;\n    font-size: 1.1em; }\n  .comment__info {\n    color: #d5d5d5; }\n  .comment__resolved {\n    float: right;\n    white-space: nowrap; }\n    .comment__resolved label {\n      padding-top: 0;\n      width: initial;\n      float: none;\n      color: white;\n      font-weight: normal; }\n    .comment__resolved input {\n      margin-left: 10px; }\n\na.comment__view-on-frontend {\n  display: inline-block;\n  font-size: 0.9em;\n  border-top: none;\n  line-height: initial;\n  margin-top: 0;\n  background-color: #007d7e;\n  border-radius: 3px;\n  padding-top: 5px;\n  padding-right: 5px;\n  padding-left: 22px;\n  padding-right: 22px; }\n",""])},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};t.__esModule=!0;var s=n(0),l=n(42),u=n(15),c=n(8);function f(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())}n(46);var d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={autocompleteSearch:"",autocompleteResults:[],errors:null},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.api,o=t.store,r=t.reviewers.map(function(t){return s.createElement("tr",null,s.createElement("td",null,t.display(),s.createElement("input",{type:"hidden",name:e.props.inputName,value:t.id}),s.createElement("button",{className:"reviewer-chooser__remove-button button icon text-replace white icon-bin hover-no",onClick:function(e){e.preventDefault(),o.dispatch(c.deleteReviewer(t.id))}},"Remove")))}),d=this.state.errors,p=s.createElement(s.Fragment,null);d&&d.email&&(p=s.createElement("div",{className:"error"},d.email));var h=this.state.autocompleteResults.slice();return f(this.state.autocompleteSearch)&&h.unshift("email"),s.createElement("div",{className:"reviewer-chooser"},s.createElement(l,{items:h,value:this.state.autocompleteSearch,onChange:function(t){return i(e,void 0,void 0,function(){var e;return a(this,function(o){switch(o.label){case 0:return this.setState({autocompleteSearch:t.target.value}),t.target.value?[4,n.getUsers({search:t.target.value})]:[3,2];case 1:return e=o.sent(),this.setState({autocompleteResults:e}),[3,3];case 2:this.setState({autocompleteResults:[]}),o.label=3;case 3:return[2]}})})},getItemValue:function(e){return"email"===e?"email":e.id.toString()},renderItem:function(t,n){var o=["reviewer-chooser__autocomplete-option"];return n&&o.push("reviewer-chooser__autocomplete-option--highlighted"),"email"===t?s.createElement("div",{className:o.join(" ")},"Email address:"," ",e.state.autocompleteSearch):s.createElement("div",{className:o.join(" ")},t.name)},onSelect:function(t){return i(e,void 0,void 0,function(){var e;return a(this,function(r){switch(r.label){case 0:return this.setState({errors:null}),"email"!==t?[3,2]:[4,n.newExternalReviewer(this.state.autocompleteSearch)];case 1:return e=r.sent(),[3,4];case 2:return[4,n.newInternalReviewer(t)];case 3:e=r.sent(),r.label=4;case 4:return"ok"===e.status?(this.setState({autocompleteSearch:"",autocompleteResults:[]}),o.dispatch(c.putReviewer(u.Reviewer.fromApi(e.reviewer)))):this.setState({errors:e}),[2]}})})},inputProps:{placeholder:"Enter username or email address",onKeyDown:function(t){return i(e,void 0,void 0,function(){var e,r;return a(this,function(i){switch(i.label){case 0:return"Enter"!==t.key?[3,2]:(t.preventDefault(),f(e=this.state.autocompleteSearch)?(this.setState({errors:null}),[4,n.newExternalReviewer(e)]):[3,2]);case 1:"ok"===(r=i.sent()).status?(this.setState({autocompleteSearch:"",autocompleteResults:[]}),o.dispatch(c.putReviewer(u.Reviewer.fromApi(r.reviewer)))):this.setState({errors:r}),i.label=2;case 2:return[2]}})})}},wrapperStyle:{}}),p,s.createElement("table",{className:"listing"},s.createElement("tbody",null,r)))},t}(s.Component);t.default=d},function(e,t,n){"use strict";(function(t){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=n(0),a=n(5),s=n(3).findDOMNode,l=n(43),u=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];var c=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={isOpen:!1,highlightedIndex:null},t._debugStates=[],t.ensureHighlightedIndex=t.ensureHighlightedIndex.bind(t),t.exposeAPI=t.exposeAPI.bind(t),t.handleInputFocus=t.handleInputFocus.bind(t),t.handleInputBlur=t.handleInputBlur.bind(t),t.handleChange=t.handleChange.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.handleInputClick=t.handleInputClick.bind(t),t.maybeAutoCompleteText=t.maybeAutoCompleteText.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.Component),r(n,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(e){null!==this.state.highlightedIndex&&this.setState(this.ensureHighlightedIndex),!e.autoHighlight||this.props.value===e.value&&null!==this.state.highlightedIndex||this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(e,t){(this.state.isOpen&&!t.isOpen||"open"in this.props&&this.props.open&&!e.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(e){var t=this;this.refs.input=e,u.forEach(function(n){return t[n]=e&&e[n]&&e[n].bind(e)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&null!==this.state.highlightedIndex){var e=this.refs["item-"+this.state.highlightedIndex],t=this.refs.menu;l(s(e),s(t),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(e){n.keyDownHandlers[e.key]?n.keyDownHandlers[e.key].call(this,e):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(e){this.props.onChange(e,e.target.value)}},{key:"getFilteredItems",value:function(e){var t=e.items;return e.shouldItemRender&&(t=t.filter(function(t){return e.shouldItemRender(t,e.value)})),e.sortItems&&t.sort(function(t,n){return e.sortItems(t,n,e.value)}),t}},{key:"maybeAutoCompleteText",value:function(e,t){for(var n=e.highlightedIndex,o=t.value,r=t.getItemValue,i=null===n?0:n,a=this.getFilteredItems(t),s=0;s<a.length&&!t.isItemSelectable(a[i]);s++)i=(i+1)%a.length;var l=a[i]&&t.isItemSelectable(a[i])?a[i]:null;if(""!==o&&l&&0===r(l).toLowerCase().indexOf(o.toLowerCase()))return{highlightedIndex:i};return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(e,t){if(e.highlightedIndex>=this.getFilteredItems(t).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var e=this.refs.input,n=e.getBoundingClientRect(),o=t.window.getComputedStyle(e),r=parseInt(o.marginBottom,10)||0,i=parseInt(o.marginLeft,10)||0,a=parseInt(o.marginRight,10)||0;this.setState({menuTop:n.bottom+r,menuLeft:n.left+i,menuWidth:n.width+i+a})}},{key:"highlightItemFromMouse",value:function(e){this.setState({highlightedIndex:e})}},{key:"selectItemFromMouse",value:function(e){var t=this,n=this.props.getItemValue(e);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},function(){t.props.onSelect(n,e)})}},{key:"setIgnoreBlur",value:function(e){this._ignoreBlur=e}},{key:"renderMenu",value:function(){var e=this,t=this.getFilteredItems(this.props).map(function(t,n){var o=e.props.renderItem(t,e.state.highlightedIndex===n,{cursor:"default"});return i.cloneElement(o,{onMouseEnter:e.props.isItemSelectable(t)?function(){return e.highlightItemFromMouse(n)}:null,onClick:e.props.isItemSelectable(t)?function(){return e.selectItemFromMouse(t)}:null,ref:function(t){return e.refs["item-"+n]=t}})}),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},o=this.props.renderMenu(t,this.props.value,n);return i.cloneElement(o,{ref:function(t){return e.refs.menu=t},onTouchStart:function(){return e.setIgnoreBlur(!0)},onMouseEnter:function(){return e.setIgnoreBlur(!0)},onMouseLeave:function(){return e.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(e){var t=this;if(this._ignoreBlur)return this._ignoreFocus=!0,this._scrollOffset={x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},void this.refs.input.focus();var n=void 0,o=this.state.highlightedIndex;if(this.props.selectOnBlur&&null!==o){var r=this.getFilteredItems(this.props)[o],i=this.props.getItemValue(r);n=function(){return t.props.onSelect(i,r)}}this.setState({isOpen:!1,highlightedIndex:null},n);var a=this.props.inputProps.onBlur;a&&a(e)}},{key:"handleInputFocus",value:function(e){var t=this;if(this._ignoreFocus){this._ignoreFocus=!1;var n=this._scrollOffset,o=n.x,r=n.y;return this._scrollOffset=null,window.scrollTo(o,r),clearTimeout(this._scrollTimer),void(this._scrollTimer=setTimeout(function(){t._scrollTimer=null,window.scrollTo(o,r)},0))}this.setState({isOpen:!0});var i=this.props.inputProps.onFocus;i&&i(e)}},{key:"isInputFocused",value:function(){var e=this.refs.input;return e.ownerDocument&&e===e.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(e,t){return t?function(n){e(n),t(n)}:e}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var e=this.props.inputProps,t=this.isOpen();return i.createElement("div",o({style:o({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(o({},e,{role:"combobox","aria-autocomplete":"list","aria-expanded":t,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,e.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,e.onClick),value:this.props.value})),t&&this.renderMenu(),this.props.debug&&i.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),n}();c.propTypes={items:a.array.isRequired,value:a.any,onChange:a.func,onSelect:a.func,shouldItemRender:a.func,isItemSelectable:a.func,sortItems:a.func,getItemValue:a.func.isRequired,renderItem:a.func.isRequired,renderMenu:a.func,menuStyle:a.object,renderInput:a.func,inputProps:a.object,wrapperProps:a.object,wrapperStyle:a.object,autoHighlight:a.bool,selectOnBlur:a.bool,onMenuVisibilityChange:a.func,open:a.bool,debug:a.bool},c.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(e){return i.createElement("input",e)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(e,t,n){return i.createElement("div",{style:o({},n,this.menuStyle),children:e})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}},c.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var n=this.state.highlightedIndex,o=null===n?-1:n,r=0;r<t.length;r++){var i=(o+r+1)%t.length;if(this.props.isItemSelectable(t[i])){o=i;break}}o>-1&&o!==n&&this.setState({highlightedIndex:o,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var n=this.state.highlightedIndex,o=null===n?t.length:n,r=0;r<t.length;r++){var i=(o-(1+r)+t.length)%t.length;if(this.props.isItemSelectable(t[i])){o=i;break}}o!==t.length&&this.setState({highlightedIndex:o,isOpen:!0})}},Enter:function(e){var t=this;if(13===e.keyCode&&(this.setIgnoreBlur(!1),this.isOpen()))if(null==this.state.highlightedIndex)this.setState({isOpen:!1},function(){t.refs.input.select()});else{e.preventDefault();var n=this.getFilteredItems(this.props)[this.state.highlightedIndex],o=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},function(){t.refs.input.setSelectionRange(o.length,o.length),t.props.onSelect(o,n)})}},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}},e.exports=c}).call(this,n(10))},function(e,t,n){e.exports=n(44)},function(e,t,n){var o=n(45);e.exports=function(e,t,n){n=n||{},9===t.nodeType&&(t=o.getWindow(t));var r=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,a=n.alignWithTop,s=n.alignWithLeft;r=void 0===r||r;var l,u,c,f,d,p,h,m,v,y,b=o.isWindow(t),g=o.offset(e),w=o.outerHeight(e),O=o.outerWidth(e);b?(h=t,y=o.height(h),v=o.width(h),m={left:o.scrollLeft(h),top:o.scrollTop(h)},d={left:g.left-m.left,top:g.top-m.top},p={left:g.left+O-(m.left+v),top:g.top+w-(m.top+y)},f=m):(l=o.offset(t),u=t.clientHeight,c=t.clientWidth,f={left:t.scrollLeft,top:t.scrollTop},d={left:g.left-(l.left+(parseFloat(o.css(t,"borderLeftWidth"))||0)),top:g.top-(l.top+(parseFloat(o.css(t,"borderTopWidth"))||0))},p={left:g.left+O-(l.left+c+(parseFloat(o.css(t,"borderRightWidth"))||0)),top:g.top+w-(l.top+u+(parseFloat(o.css(t,"borderBottomWidth"))||0))}),d.top<0||p.top>0?!0===a?o.scrollTop(t,f.top+d.top):!1===a?o.scrollTop(t,f.top+p.top):d.top<0?o.scrollTop(t,f.top+d.top):o.scrollTop(t,f.top+p.top):i||((a=void 0===a||!!a)?o.scrollTop(t,f.top+d.top):o.scrollTop(t,f.top+p.top)),r&&(d.left<0||p.left>0?!0===s?o.scrollLeft(t,f.left+d.left):!1===s?o.scrollLeft(t,f.left+p.left):d.left<0?o.scrollLeft(t,f.left+d.left):o.scrollLeft(t,f.left+p.left):i||((s=void 0===s||!!s)?o.scrollLeft(t,f.left+d.left):o.scrollLeft(t,f.left+p.left)))}},function(e,t){function n(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],o="scroll"+(t?"Top":"Left");if("number"!=typeof n){var r=e.document;"number"!=typeof(n=r.documentElement[o])&&(n=r.body[o])}return n}function o(e){return n(e)}function r(e){return n(e,!0)}function i(e){var t=function(e){var t,n,o,r=e.ownerDocument,i=r.body,a=r&&r.documentElement;return n=(t=e.getBoundingClientRect()).left,o=t.top,{left:n-=a.clientLeft||i.clientLeft||0,top:o-=a.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,i=n.defaultView||n.parentWindow;return t.left+=o(i),t.top+=r(i),t}var a,s=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),l=/^(top|right|bottom|left)$/,u="currentStyle",c="runtimeStyle",f="left",d="px";function p(e,t){for(var n=0;n<e.length;n++)t(e[n])}function h(e){return"border-box"===a(e,"boxSizing")}"undefined"!=typeof window&&(a=window.getComputedStyle?function(e,t,n){var o="",r=e.ownerDocument;return(n=n||r.defaultView.getComputedStyle(e,null))&&(o=n.getPropertyValue(t)||n[t]),o}:function(e,t){var n=e[u]&&e[u][t];if(s.test(n)&&!l.test(t)){var o=e.style,r=o[f],i=e[c][f];e[c][f]=e[u][f],o[f]="fontSize"===t?"1em":n||0,n=o.pixelLeft+d,o[f]=r,e[c][f]=i}return""===n?"auto":n});var m=["margin","border","padding"],v=-1,y=2,b=1;function g(e,t,n){var o,r,i,s=0;for(r=0;r<t.length;r++)if(o=t[r])for(i=0;i<n.length;i++){var l;l="border"===o?o+n[i]+"Width":o+n[i],s+=parseFloat(a(e,l))||0}return s}function w(e){return null!=e&&e==e.window}var O={};function _(e,t,n){if(w(e))return"width"===t?O.viewportWidth(e):O.viewportHeight(e);if(9===e.nodeType)return"width"===t?O.docWidth(e):O.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],r="width"===t?e.offsetWidth:e.offsetHeight,i=(a(e),h(e)),s=0;(null==r||r<=0)&&(r=void 0,(null==(s=a(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===n&&(n=i?b:v);var l=void 0!==r||i,u=r||s;return n===v?l?u-g(e,["border","padding"],o):s:l?u+(n===b?0:n===y?-g(e,["border"],o):g(e,["margin"],o)):s+g(e,m.slice(n),o)}p(["Width","Height"],function(e){O["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],O["viewport"+e](n))},O["viewport"+e]=function(t){var n="client"+e,o=t.document,r=o.body,i=o.documentElement[n];return"CSS1Compat"===o.compatMode&&i||r&&r[n]||i}});var E={position:"absolute",visibility:"hidden",display:"block"};function S(e){var t,n=arguments;return 0!==e.offsetWidth?t=_.apply(void 0,n):function(e,t,n){var o,r={},i=e.style;for(o in t)r[o]=i[o],i[o]=t[o];for(o in n.call(e),t)i[o]=r[o]}(e,E,function(){t=_.apply(void 0,n)}),t}function C(e,t,n){if("object"!=typeof t){if(void 0===n)return a(e,t);"number"==typeof n&&(n+="px"),e.style[t]=n}else for(var o in t)C(e,o,t[o])}function x(e,t){for(var n in t)e[n]=t[n];return e}p(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);O["outer"+t]=function(t,n){return t&&S(t,e,n?0:b)};var n="width"===e?["Left","Right"]:["Top","Bottom"];O[e]=function(t,o){if(void 0===o)return t&&S(t,e,v);if(t){a(t);return h(t)&&(o+=g(t,["padding","border"],n)),C(t,e,o)}}});var T=e.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return i(e);!function(e,t){"static"===C(e,"position")&&(e.style.position="relative");var n,o,r=i(e),a={};for(o in t)n=parseFloat(C(e,o))||0,a[o]=n+t[o]-r[o];C(e,a)}(e,t)},isWindow:w,each:p,css:C,clone:function(e){var t={};for(var n in e)t[n]=e[n];if(e.overflow)for(n in e)t.overflow[n]=e.overflow[n];return t},mix:x,scrollLeft:function(e,t){if(w(e)){if(void 0===t)return o(e);window.scrollTo(t,r(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(w(e)){if(void 0===t)return r(e);window.scrollTo(o(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)T.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};x(T,O)},function(e,t,n){var o=n(47);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".reviewer-chooser table {\n  width: 100%; }\n\n.reviewer-chooser td {\n  padding: 10px; }\n\n.reviewer-chooser__autocomplete-option {\n  padding: 20px;\n  z-index: 100; }\n  .reviewer-chooser__autocomplete-option--highlighted {\n    cursor: pointer; }\n\n.reviewer-chooser__remove-button {\n  float: right; }\n",""])},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};t.__esModule=!0;var a=function(){function e(e,t,n,o){this.pageId=e,this.csrfToken=t,this.sharesUrl=n,this.commentsUrl=o}return e.prototype.getShares=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,fetch(this.sharesUrl,{credentials:"same-origin"})];case 1:return[2,e.sent().json()]}})})},e.prototype.newShare=function(e){return r(this,void 0,void 0,function(){var t,n,r;return i(this,function(i){switch(i.label){case 0:return[4,fetch(this.sharesUrl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRFToken":this.csrfToken},body:JSON.stringify({email:e})})];case 1:return 201!=(t=i.sent()).status?[3,3]:(n={status:"ok"},[4,t.json()]);case 2:return[2,(n.share=i.sent(),n)];case 3:return 400!=t.status?[3,5]:(r=[{status:"error"}],[4,t.json()]);case 4:return[2,o.apply(void 0,r.concat([i.sent()]))];case 5:throw new Error("share api returned unexpected status code: "+t.status)}})})},e.prototype.getComments=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,fetch(this.commentsUrl,{credentials:"same-origin"})];case 1:return[2,e.sent().json()]}})})},e}();t.default=a},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};t.__esModule=!0;var a=function(){function e(e,t,n,o){this.csrfToken=e,this.usersUrl=t,this.reviewerUrl=n,this.csrfHeaderName=o}return e.prototype.getUsers=function(e){var t=e.search;return r(this,void 0,void 0,function(){var e,n;return i(this,function(o){switch(o.label){case 0:return e=[],t&&e.push("search="+encodeURIComponent(t)),n=e?"?"+e.join("&"):"",[4,fetch(""+this.usersUrl+n,{credentials:"same-origin"})];case 1:return[2,o.sent().json()]}})})},e.prototype._newReviewer=function(e){return r(this,void 0,void 0,function(){var t,n,r,a;return i(this,function(i){switch(i.label){case 0:return[4,fetch(this.reviewerUrl,{method:"POST",credentials:"same-origin",headers:(a={"Content-Type":"application/json"},a[this.csrfHeaderName]=this.csrfToken,a),body:e})];case 1:return 200!==(t=i.sent()).status&&201!==t.status?[3,3]:(n={status:"ok"},[4,t.json()]);case 2:return[2,(n.reviewer=i.sent(),n)];case 3:return 400!=t.status?[3,5]:(r=[{status:"error"}],[4,t.json()]);case 4:return[2,o.apply(void 0,r.concat([i.sent()]))];case 5:throw new Error("reviewer api returned unexpected status code: "+t.status)}})})},e.prototype.newInternalReviewer=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return[2,this._newReviewer(JSON.stringify({user_id:e}))]})})},e.prototype.newExternalReviewer=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return[2,this._newReviewer(JSON.stringify({email:e}))]})})},e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var o=n(7),r=function(){function e(e){this.name=e}return e.unknown=function(){return new e("Unknown")},e.fromApi=function(t){return new e(t.name)},e}();t.Author=r;var i=function(){function e(e,t,n,o){this.id=e,this.author=t,this.date=n,this.text=o}return e.fromApi=function(t){return new e(t.id,new r(t.author.name),Date.parse(t.created_at),t.text)},e}();t.CommentReply=i;var a=function(){function e(e,t,n,o,r,i,a){this.id=e,this.isResolved=t,this.author=n,this.date=o,this.text=r,this.replies=i,this.frontendUrl=a}return e.fromApi=function(t){return new e(t.id,t.is_resolved,new r(t.author.name),Date.parse(t.created_at),t.text,t.replies.map(i.fromApi),t.frontend_url)},e}();t.Comment=a,t.reducer=function(e,t){switch(void 0===e&&(e={isOpen:!1,comments:[],showResolvedComments:!1}),t.type){case o.LOAD_COMMENTS:e=Object.assign({},e,{comments:t.comments});break;case o.SHOW_HIDE_COMMENTS:e=Object.assign({},e,{isOpen:t.show});break;case o.SHOW_HIDE_RESOLVED_COMMENTS:e=Object.assign({},e,{showResolvedComments:t.show})}return e}},function(e,t,n){"use strict";function o(e,t,n){var o=document.createElement("li");t&&(o.id=t);var r=o.appendChild(document.createElement("a"));return r.href="#",r.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n(e)},{capture:!0}),r.appendChild(document.createTextNode(e)),o}t.__esModule=!0,t.initTabs=function(e){var t=document.querySelector("ul.tab-nav");if(t instanceof HTMLUListElement){t.style.position="relative";var n=document.createElement("div");n.style.position="absolute",n.style.right="50px";for(var r=0,i=e;r<i.length;r++){var a=i[r];n.appendChild(o(a.text,a.id,a.onClick))}t.appendChild(n)}else console.error("[review] Cannot locate tabs element in DOM")}}]);